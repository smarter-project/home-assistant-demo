# Running the demo on the emulated system on macOS

## Prerequisites

### Connection to Arm Network

Either directly or via VPN.


### QEMU

Can be installed using brew:

  `brew install qemu`

and adding `/opt/homebrew/bin` to your path (if not already present):

`export PATH=/opt/homebrew/bin:$PATH`


### kubectl

Included with docker desktop. Kubernetes does not need to be enabled within docker desktop.

Alternatively, kubectl can be installed using brew:

` brew install kubectl`

and adding `/opt/homebrew/bin` to your path (if not already there)


### mcp-proxy

Can be installed using brew

`brew install mcp-proxy`

and adding `/opt/homebrew/bin` to your path (if not already there)


### Obtain an OPENAI API Key

Visit: [https://openai-api-proxy.geo.arm.com](https://openai-api-proxy.geo.arm.com). 

Use the "Generate New API Key" Button (the location should be automatically set for your current location).
Copy and save the API key because once generated, your API key will only be shown once and cannot be retrieved again. Generating a new key will disable your old one.

Set the OPENAI\_API\_KEY environment variable to your API key:

`export OPENAI_API_KEY=<YOUR API KEY>`


## Download the Release

* Download the release file:

  `wget https://gitlab.arm.com/api/v4/projects/576/packages/generic/rimdworkspace/Q2_2025_6/rimdworkspace.tar.gz`


* Untar:

  `tar xf rimdworkspace.tar.gz`


* Change directory into the release directory:

  `cd rimdworkspace_Q2_2025_6`


### Run the Demo

The entire software stack, including virtual machines, application and Agent can run using a single script:

`bash demo/runit.sh`

Annotated output from running the script is shown below:

First the script checks for the pre-requisites:

```
qemu-system-aarch64 is available
mcp-proxy is available
kubectl is available
OPENAI_API_KEY has a value
```

Next the host (TC25) VM is started we wait until k3s is running on the host VM:

```
Wed 20 Aug 2025 13:25:41 BST
Setting up infrastructure
Starting host vm
Wed 20 Aug 2025 13:25:41 BST
Waiting for k3s on host vm to be reachable.
 Takes around two minutes
  not yet; sleeping 5s
  not yet; sleeping 5s
  not yet; sleeping 5s
  not yet; sleeping 5s
  not yet; sleeping 5s
  not yet; sleeping 5s
  not yet; sleeping 5s
Wed 20 Aug 2025 13:26:44 BST
k3s is reachable.
```

Next we start the keyserver and check that k3s is up. We also capture the k3s.yaml file which we will use to deploy the application:

```
starting keyserver
Wed 20 Aug 2025 13:26:44 BST
Getting k3s.yaml file
Warning: Permanently added '[127.0.0.1]:5555' (ED25519) to the list of known hosts.
Checking k3s status
NAME      STATUS   ROLES                  AGE   VERSION
hydravm   Ready    control-plane,master   13s   v1.32.6+k3s1
```

Next we start the isolated (AI Enclave) VM:

```
Wed 20 Aug 2025 13:26:59 BST
Starting isolated vm
```

Now we deploy the home-security demo application and wait for the Home Assistant instance to come up. This may take 2-3 minutes.

The script will try to open a web browser pointed at the Home Assistant web gui. The username and password for the Home Assistant instance are `vm-user` 

``` 
Wed 20 Aug 2025 13:26:59 BST
Deploying Home Assistant and Demo Application
persistentvolumeclaim/ha-config created
persistentvolumeclaim/ha-mosquitto created
service/homeassistant created
service/mosquitto created
deployment.apps/data created
deployment.apps/mosquitto created
deployment.apps/homeassistant created
runtimeclass.node.k8s.io/nelly created
secret/gitlab-regcred created
Deploying Triton Inference Server
persistentvolumeclaim/triton-models created
deployment.apps/triton-inference created
Deploying Home Assistant Camera MCP Server
persistentvolumeclaim/camera-images created
deployment.apps/ha-camera-mcp created
service/ha-camera-mcp-service created
Deploying vectordb
deployment.apps/milvus-deployment created
service/milvus-service created
job.batch/populate created
Deploying face detection MCP Server
deployment.apps/face-mcp created
service/face-mcp-service created
Waiting for Home Assistant
  Takes around two minutes
deployment.apps/homeassistant condition met
Wed 20 Aug 2025 13:27:58 BST
Opening Home Assistant GUI
```

Now we wait for the remaining application pods to start running. This can take up to 10 minutes depending on network bandwidth as some of the container images and ML models are large (> 1GB).

```
Can take around 10 minutes for all pods to be running
deployment.apps/triton-inference condition met
Wed 20 Aug 2025 13:30:39 BST
deployment.apps/face-mcp condition met
Wed 20 Aug 2025 13:31:27 BST
All pods running
```

Once all the pods are running, we create a Python virtual environment into which we install the dependencies for the Edge Agent (this output is not shown below).

We then start the Edge Agent which enables the OpenAI gpt-4o LLM to use the MCP servers running in the host VM to answer questions about the Home Assistant instance:

```
<output from the python installation>

Checking certfi CA location
Grabbing root cert from artifactory to install...
Installed Arm root cert to '/Users/cadeniyi/work/pp/rimdworkspace_Q2_2025_6/venv/lib/python3.13/site-packages/certifi/cacert.pem'
2025-08-20 13:31:44,085 - mcp_use.telemetry.telemetry - INFO - Anonymized telemetry enabled. Set MCP_USE_ANONYMIZED_TELEMETRY=false to disable.
*****                                 *****
*****                                 *****
*****     Home Security Agent Demo    *****
*****                                 *****
*****                                 *****

Enter prompt or exit to stop:
```

Here we enter ` Who is at the front door?`

We see the MCP servers are queried as to the tools they each provide.

```2025-08-20 13:31:51,432 - mcp_use - INFO - ğŸš€ Initializing MCP agent and connecting to services...
2025-08-20 13:31:51,432 - mcp_use - INFO - ğŸ”Œ Found 0 existing sessions
2025-08-20 13:31:51,432 - mcp_use - INFO - ğŸ”„ No active sessions found, creating new ones...
[I 2025-08-20 13:31:51,632.632 httpx] HTTP Request: GET http://localhost:30123/mcp_server/sse "HTTP/1.1 200 OK"
[I 2025-08-20 13:31:51,635.635 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33QDPAVT12X7T4F0NEF5XV9 "HTTP/1.1 200 OK"
[I 2025-08-20 13:31:51,637.637 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33QDPAVT12X7T4F0NEF5XV9 "HTTP/1.1 200 OK"
[I 2025-08-20 13:31:51,638.638 mcp.server.lowlevel.server] Processing request of type ListToolsRequest
[I 2025-08-20 13:31:51,639.639 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33QDPAVT12X7T4F0NEF5XV9 "HTTP/1.1 200 OK"
[I 2025-08-20 13:31:51,643.643 mcp.server.lowlevel.server] Processing request of type ListPromptsRequest
[I 2025-08-20 13:31:51,643.643 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33QDPAVT12X7T4F0NEF5XV9 "HTTP/1.1 200 OK"
2025-08-20 13:31:52,571 - mcp_use - INFO - âœ… Created 3 new sessions
[I 2025-08-20 13:31:52,572.572 mcp.server.lowlevel.server] Processing request of type ListToolsRequest
[I 2025-08-20 13:31:52,573.573 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33QDPAVT12X7T4F0NEF5XV9 "HTTP/1.1 200 OK"
[I 2025-08-20 13:31:52,582.582 mcp.server.lowlevel.server] Processing request of type ListPromptsRequest
[I 2025-08-20 13:31:52,583.583 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33QDPAVT12X7T4F0NEF5XV9 "HTTP/1.1 200 OK"
2025-08-20 13:31:52,607 - mcp_use - INFO - ğŸ› ï¸ Created 12 LangChain tools from client
2025-08-20 13:31:52,607 - mcp_use - INFO - ğŸ§° Found 12 tools across all connectors
2025-08-20 13:31:52,607 - mcp_use - INFO - ğŸ§  Agent ready with tools: HassTurnOn, HassTurnOff, HassCancelAllTimers, HassListAddItem, HassListCompleteItem, HassLightSet, todo_get_items, GetLiveContext, Assist, capture, get_cameras
, identify_faces
```

The agent uses the get\_cameras, capture and idenitfy\_faces tools:

```
2025-08-20 13:31:52,618 - mcp_use - INFO - âœ¨ Agent initialization complete
2025-08-20 13:31:52,618 - mcp_use - INFO - ğŸ’¬ Received query: 'Who is at the front door?'
2025-08-20 13:31:52,618 - mcp_use - INFO - ğŸ Starting agent execution with max_steps=30
2025-08-20 13:31:52,618 - mcp_use - INFO - ğŸ‘£ Step 1/30
2025-08-20 13:31:55,735 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `get_cameras` with `{}`
2025-08-20 13:31:55,735 - mcp_use - INFO - ğŸ”§ Tool call: get_cameras with input: {}
2025-08-20 13:31:55,735 - mcp_use - INFO - ğŸ“„ Tool result: [   "Front Door",   "Living Room 1",   "Living Room 2" ]
2025-08-20 13:31:55,735 - mcp_use - INFO - ğŸ‘£ Step 2/30
2025-08-20 13:31:56,414 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `capture` with `{'name': 'Front Door'}`
2025-08-20 13:31:56,414 - mcp_use - INFO - ğŸ”§ Tool call: capture with input: {'name': 'Front Door'}
2025-08-20 13:31:56,414 - mcp_use - INFO - ğŸ“„ Tool result: /images/camera.front_door_camera_20250820_123156.jpg
2025-08-20 13:31:56,414 - mcp_use - INFO - ğŸ‘£ Step 3/30
2025-08-20 13:31:57,158 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `identify_faces` with `{'image': '/images/camera.front_door_camera_20250820_123156.jpg'}`
2025-08-20 13:31:57,158 - mcp_use - INFO - ğŸ”§ Tool call: identify_faces with input: {'image': '/images/camera.front_door_camera_20250820_123156.jpg'}
2025-08-20 13:31:57,158 - mcp_use - INFO - ğŸ“„ Tool result: no_faces_detected
2025-08-20 13:31:57,158 - mcp_use - INFO - ğŸ‘£ Step 4/30
2025-08-20 13:31:59,152 - mcp_use - INFO - âœ… Agent finished at step 4
2025-08-20 13:31:59,152 - mcp_use - INFO - ğŸ‰ Agent execution complete in 7.720533847808838 seconds
```
```
Result: There are no faces detected at the front door.
```

At this time, there was no-one at the front door. We wait for the camera image to change and then ask again:

```
Enter prompt or exit to stop:  Who is at the front door?
```

```
2025-08-20 13:32:15,976 - mcp_use - INFO - ğŸ’¬ Received query: 'Who is at the front door?'
2025-08-20 13:32:15,976 - mcp_use - INFO - ğŸ Starting agent execution with max_steps=30
2025-08-20 13:32:15,976 - mcp_use - INFO - ğŸ‘£ Step 1/30
2025-08-20 13:32:16,627 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `get_cameras` with `{}`
2025-08-20 13:32:16,627 - mcp_use - INFO - ğŸ”§ Tool call: get_cameras with input: {}
2025-08-20 13:32:16,627 - mcp_use - INFO - ğŸ“„ Tool result: [   "Front Door",   "Living Room 1",   "Living Room 2" ]
2025-08-20 13:32:16,627 - mcp_use - INFO - ğŸ‘£ Step 2/30
2025-08-20 13:32:17,312 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `capture` with `{'name': 'Front Door'}`
2025-08-20 13:32:17,312 - mcp_use - INFO - ğŸ”§ Tool call: capture with input: {'name': 'Front Door'}
2025-08-20 13:32:17,312 - mcp_use - INFO - ğŸ“„ Tool result: /images/camera.front_door_camera_20250820_123217.jpg
2025-08-20 13:32:17,312 - mcp_use - INFO - ğŸ‘£ Step 3/30
2025-08-20 13:32:18,674 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `identify_faces` with `{'image': '/images/camera.front_door_camera_20250820_123217.jpg'}`
2025-08-20 13:32:18,674 - mcp_use - INFO - ğŸ”§ Tool call: identify_faces with input: {'image': '/images/camera.front_door_camera_20250820_123217.jpg'}
2025-08-20 13:32:18,674 - mcp_use - INFO - ğŸ“„ Tool result: Jim
2025-08-20 13:32:18,674 - mcp_use - INFO - ğŸ‘£ Step 4/30
2025-08-20 13:32:19,108 - mcp_use - INFO - âœ… Agent finished at step 4
2025-08-20 13:32:19,108 - mcp_use - INFO - ğŸ‰ Agent execution complete in 3.1320531368255615 seconds
```
```
Result: Jim is at the front door.
```

The person at the front door is recognised as Jim.

We wait until the image has changed and then ask if Jim is still there?

```
Enter prompt or exit to stop: Is Jim still at the front door?
```

```
2025-08-20 13:32:45,782 - mcp_use - INFO - ğŸ’¬ Received query: 'Is Jim still at the front door?'
2025-08-20 13:32:45,782 - mcp_use - INFO - ğŸ Starting agent execution with max_steps=30
2025-08-20 13:32:45,782 - mcp_use - INFO - ğŸ‘£ Step 1/30
2025-08-20 13:32:46,405 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `get_cameras` with `{}`
2025-08-20 13:32:46,405 - mcp_use - INFO - ğŸ”§ Tool call: get_cameras with input: {}
2025-08-20 13:32:46,405 - mcp_use - INFO - ğŸ“„ Tool result: [   "Front Door",   "Living Room 1",   "Living Room 2" ]
2025-08-20 13:32:46,405 - mcp_use - INFO - ğŸ‘£ Step 2/30
2025-08-20 13:32:47,041 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `capture` with `{'name': 'Front Door'}`
2025-08-20 13:32:47,041 - mcp_use - INFO - ğŸ”§ Tool call: capture with input: {'name': 'Front Door'}
2025-08-20 13:32:47,041 - mcp_use - INFO - ğŸ“„ Tool result: /images/camera.front_door_camera_20250820_123247.jpg
2025-08-20 13:32:47,041 - mcp_use - INFO - ğŸ‘£ Step 3/30
2025-08-20 13:32:48,217 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `identify_faces` with `{'image': '/images/camera.front_door_camera_20250820_123247.jpg'}`
2025-08-20 13:32:48,217 - mcp_use - INFO - ğŸ”§ Tool call: identify_faces with input: {'image': '/images/camera.front_door_camera_20250820_123247.jpg'}
2025-08-20 13:32:48,217 - mcp_use - INFO - ğŸ“„ Tool result: Mrs-Cobel
2025-08-20 13:32:48,217 - mcp_use - INFO - ğŸ‘£ Step 4/30
2025-08-20 13:32:49,065 - mcp_use - INFO - âœ… Agent finished at step 4
2025-08-20 13:32:49,065 - mcp_use - INFO - ğŸ‰ Agent execution complete in 3.28318190574646 seconds
```

```
Result: Jim is not at the front door anymore; Mrs. Cobel is currently there.
```

Now, Mrs Cobel is at the door.

We can also ask questions about the state of the home:

```
Enter prompt or exit to stop: Are any lights on?
```

```
2025-08-20 14:10:39,763 - mcp_use - INFO - ğŸš€ Initializing MCP agent and connecting to services...
2025-08-20 14:10:39,763 - mcp_use - INFO - ğŸ”Œ Found 0 existing sessions
2025-08-20 14:10:39,763 - mcp_use - INFO - ğŸ”„ No active sessions found, creating new ones...
[I 2025-08-20 14:10:39,952.952 httpx] HTTP Request: GET http://localhost:30123/mcp_server/sse "HTTP/1.1 200 OK"
[I 2025-08-20 14:10:39,955.955 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
[I 2025-08-20 14:10:39,957.957 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
[I 2025-08-20 14:10:39,958.958 mcp.server.lowlevel.server] Processing request of type ListToolsRequest
[I 2025-08-20 14:10:39,959.959 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
[I 2025-08-20 14:10:39,961.961 mcp.server.lowlevel.server] Processing request of type ListPromptsRequest
[I 2025-08-20 14:10:39,962.962 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
2025-08-20 14:10:40,006 - mcp_use - INFO - âœ… Created 3 new sessions
[I 2025-08-20 14:10:40,006.006 mcp.server.lowlevel.server] Processing request of type ListToolsRequest
[I 2025-08-20 14:10:40,007.007 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
[I 2025-08-20 14:10:40,017.017 mcp.server.lowlevel.server] Processing request of type ListPromptsRequest
[I 2025-08-20 14:10:40,018.018 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
2025-08-20 14:10:40,040 - mcp_use - INFO - ğŸ› ï¸  Created 12 LangChain tools from client
2025-08-20 14:10:40,040 - mcp_use - INFO - ğŸ§° Found 12 tools across all connectors
2025-08-20 14:10:40,040 - mcp_use - INFO - ğŸ§  Agent ready with tools: HassTurnOn, HassTurnOff, HassCancelAllTimers, HassListAddItem, HassListCompleteItem, HassLightSet, todo_get_items, GetLiveContext, Assist, capture, get_cameras, identify_faces
2025-08-20 14:10:40,051 - mcp_use - INFO - âœ¨ Agent initialization complete
2025-08-20 14:10:40,051 - mcp_use - INFO - ğŸ’¬ Received query: 'Are any lights on?'
2025-08-20 14:10:40,051 - mcp_use - INFO - ğŸ Starting agent execution with max_steps=30
2025-08-20 14:10:40,051 - mcp_use - INFO - ğŸ‘£ Step 1/30
[I 2025-08-20 14:10:40,576.576 mcp.server.lowlevel.server] Processing request of type CallToolRequest
[I 2025-08-20 14:10:40,577.577 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
2025-08-20 14:10:40,580 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `GetLiveContext` with `{}`
2025-08-20 14:10:40,580 - mcp_use - INFO - ğŸ”§ Tool call: GetLiveContext with input: {}
2025-08-20 14:10:40,580 - mcp_use - INFO - ğŸ“„ Tool result: {"success": true, "result": "Live Context: An overview of the areas and the devices in this smart...
2025-08-20 14:10:40,580 - mcp_use - INFO - ğŸ‘£ Step 2/30
2025-08-20 14:10:41,365 - mcp_use - INFO - âœ… Agent finished at step 2
2025-08-20 14:10:41,365 - mcp_use - INFO - ğŸ‰ Agent execution complete in 1.6016271114349365 seconds
```
```
Result: No, currently all the lights in the house are off.
```

We can turn on a light:

```Enter prompt or exit to stop: Turn on the living room light```


```2025-08-20 14:11:42,598 - mcp_use - INFO - ğŸ’¬ Received query: 'Turn on the living room light'
2025-08-20 14:11:42,598 - mcp_use - INFO - ğŸ Starting agent execution with max_steps=30
2025-08-20 14:11:42,598 - mcp_use - INFO - ğŸ‘£ Step 1/30
[I 2025-08-20 14:11:43,358.358 mcp.server.lowlevel.server] Processing request of type CallToolRequest
[I 2025-08-20 14:11:43,362.362 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
2025-08-20 14:11:43,366 - mcp_use - ERROR - Error parsing tool result: Tool execution failed: [TextContent(type='text', text='Error calling tool: Received invalid slot info for HassTurnOn', annotations=None, meta=None)]
2025-08-20 14:11:43,367 - mcp_use - ERROR - Structured error: {'error': 'ToolException', 'details': "Tool execution failed: [TextContent(type='text', text='Error calling tool: Received invalid slot info for HassTurnOn', annotations=None, meta=None)]", 'isRetryable': False, 'stack': 'Traceback (most recent call last):\n  File "/Users/cadeniyi/work/pp/rimdworkspace_Q2_2025_6/venv/lib/python3.13/site-packages/mcp_use/adapters/langchain_adapter.py", line 159, in _arun\n    return adapter_self._parse_mcp_tool_result(tool_result)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File "/Users/cadeniyi/work/pp/rimdworkspace_Q2_2025_6/venv/lib/python3.13/site-packages/mcp_use/adapters/langchain_adapter.py", line 72, in _parse_mcp_tool_result\n    raise ToolException(f"Tool execution failed: {tool_result.content}")\nlangchain_core.tools.base.ToolException: Tool execution failed: [TextContent(type=\'text\', text=\'Error calling tool: Received invalid slot info for HassTurnOn\', annotations=None, meta=None)]\n', 'code': 'UNKNOWN', 'tool': 'HassTurnOn', 'tool_content': [TextContent(type='text', text='Error calling tool: Received invalid slot info for HassTurnOn', annotations=None, meta=None)]}
2025-08-20 14:11:43,367 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `HassTurnOn` with `{'area': 'living room', 'device_class': ['light']}`
2025-08-20 14:11:43,367 - mcp_use - INFO - ğŸ”§ Tool call: HassTurnOn with input: {'area': 'living room', 'device_class': ['light']}
2025-08-20 14:11:43,367 - mcp_use - INFO - ğŸ“„ Tool result: {'error': 'ToolException', 'details': "Tool execution failed: [TextContent(type='text', text='Err...
2025-08-20 14:11:43,367 - mcp_use - INFO - ğŸ‘£ Step 2/30
[I 2025-08-20 14:11:43,951.951 mcp.server.lowlevel.server] Processing request of type CallToolRequest
[I 2025-08-20 14:11:43,953.953 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
2025-08-20 14:11:43,957 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `GetLiveContext` with `{}`
2025-08-20 14:11:43,957 - mcp_use - INFO - ğŸ”§ Tool call: GetLiveContext with input: {}
2025-08-20 14:11:43,957 - mcp_use - INFO - ğŸ“„ Tool result: {"success": true, "result": "Live Context: An overview of the areas and the devices in this smart...
2025-08-20 14:11:43,957 - mcp_use - INFO - ğŸ‘£ Step 3/30
[I 2025-08-20 14:11:44,765.765 mcp.server.lowlevel.server] Processing request of type CallToolRequest
[I 2025-08-20 14:11:44,766.766 httpx] HTTP Request: POST http://localhost:30123/mcp_server/messages/01K33SMR3M7WQRF1VJBGFS3XPG "HTTP/1.1 200 OK"
2025-08-20 14:11:44,770 - mcp_use - INFO - ğŸ’­ Reasoning:  Invoking: `HassTurnOn` with `{'name': 'Living Room Light'}`
2025-08-20 14:11:44,770 - mcp_use - INFO - ğŸ”§ Tool call: HassTurnOn with input: {'name': 'Living Room Light'}
2025-08-20 14:11:44,770 - mcp_use - INFO - ğŸ“„ Tool result: {"speech": {}, "response_type": "action_done", "data": {"targets": [], "success": [{"name": "Livi...
2025-08-20 14:11:44,770 - mcp_use - INFO - ğŸ‘£ Step 4/30
2025-08-20 14:11:45,578 - mcp_use - INFO - âœ… Agent finished at step 4
2025-08-20 14:11:45,579 - mcp_use - INFO - ğŸ‰ Agent execution complete in 2.980407953262329 seconds

Result: The living room light has been turned on.
```

This is a good example the model trying one thing (trying to turn on a device with device class "light" in the "living room"), getting an error, looking up the names of the lights (via calling GetLiveContext) and then using the correct name ("Living Room Light")


Entering: ```exit``` stops the Edge Agent (but not the deployed application or VMs).

The Edge Agent can be restarted by running:

```bash demo/run_edge_agent.sh```

### Stopping the Demo

To stop the deployed applications run:

```bash demo/stop_demo_application.sh```

To stop the VMs run:

```bash demo/stop_vms.sh```


To stop both the deployed applications and VMs run:

```bash demo/all_down.sh```






